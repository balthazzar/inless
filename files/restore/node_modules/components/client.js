var React = require('react');
var Router = require('react-router');
var History = Router.History;

var ___ = function () {
	require('./../../application/components/*/react/index.jsx', { glob: true });
}

var getComponent = function(name) {
	var source = require('./../../application/components/'+name+'/react/index.jsx');
	source.mixins = [{
		getLink() {
			return Router.Link;
		},
		redirect(url, query) {
			url = url || '/';
			query = query || {};
			this.history.pushState(null, url, query);
		},
		componentWillMount() {
			if(typeof this.client == 'function') {
				this.client(this.state);
			}
		}
	}, History];
	var comp = React.createClass(source);
	return !name ? null : comp;
}

module.exports = getComponent;
