var React = require('react');
var Router = require('react-router');
var path = require('path');

var getComponent = function(name) {
	var source = require(path.resolve('./application/components/'+name+'/react/index.jsx'));
	source.mixins = [{
		getLink() {
			return Router.Link;
		},
		getInitialState: function() {
			if(typeof this.server == 'function') {
				this.server({});
			}
			return {};
		}
	}];
	var comp = React.createClass(source);
	return !name ? null : comp;
}

module.exports = getComponent;
